### **관통 프로젝트**
---

**실습 목표**

파이썬으로 인터넷에 있는 날씨 정보를 가져와, 내가 원하는 정보만 출력

**날씨 정보**

- 실습 프로젝트를 실행하기 위해선 날씨 데이터가 있어야 합니다.

- 하지만 직접 데이터를 모으기엔 너무 어렵습니다.

- 간단하게, 인터넷에 있는 데이터를 가져오면 됩니다
	
    - 데이터를 가져오는 방법을 이해하기 위해선 반드시 알아야 할 전문용어들이 있습니다.
    
**전문용어 이해하기**

- 먼저, 서버와 클라이언트 입니다.

- 서버 : 부탁을 받으면 처리해주거나, 부탁대로 원하는 값을 돌려주는 역할을 합니다.

- 클라이언트 : 부탁하는 역할

![](https://velog.velcdn.com/images/lurelight/post/bfa37998-33be-4e7a-ac75-272503a99992/image.png)

- 우리가 네이버 홈페이지에 접속하는 건 다음과 같이 표현할 수 있습니다.
	
    - 네이버 주소를 입력하면 익히 알고 있는 네이버 메인 화면을 달라고 요청합니다.
    
    - 서버는 클라이언트가 요청한 네이버 메인 화면을 돌려줍니다.
    
![](https://velog.velcdn.com/images/lurelight/post/60a3b18e-8273-4742-bb41-9d96c5ec8bea/image.png)

- 이번 프로젝트에서는 날씨 정보가 필요합니다.


	- 날씨 정보를 가지고 있는 서버가 있습니다.
	
    - 해당 서버에 날씨 정보를 달라고 요청하면 됩니다.
    
![](https://velog.velcdn.com/images/lurelight/post/2739532e-eeae-427b-8577-cef5d33f262f/image.png)

- 정리하면 다음과 같습니다.
	
    - 클라이언트가 정보를 달라고 요청한다.
    
    - 서버는 클라이언트의 요청에 따라 원하는 정보를 돌려준다.
    
**클라이언트가 서버에 요청하는 두 가지 방법**

1. 웹 브라우저(크롬)을 켜서 주소창에 주소(URL)를 입력한다.

![](https://velog.velcdn.com/images/lurelight/post/c2b7d948-9d95-4a55-b0f7-adb922da6df3/image.png)

서버가 리스트를 반환하도록 만들어 놓았기 때문에 해당 사이트에 들어갔을 때 리스트를 얻을 수 있는 것이다.

2. 서버에 정보를 요청하면 파이썬 코드를 작성한다.

2. 서버에 정보를 달라는 파이썬 코드를 작성

vscode를 켜고, 터미널 창을 열어주세요

- 터미널 창 여는 방법
    
    - 상단 Terminal 메뉴 + New Terminal 클릭
        
    - 단축기 Ctrl + `(백틱)
        
- 아래 명령어를 실행하여 필요한 도구를 설치합니다.

- requests : 파이썬에서 서버에 요청을 보낼 수 있는 도구
    
![](https://velog.velcdn.com/images/lurelight/post/9544d794-ceeb-4636-8bfb-b0338fd999d0/image.png)
    
![](https://velog.velcdn.com/images/lurelight/post/690ab1f1-cfd0-479b-a88b-5d04d1fb6a3e/image.png)


**파이썬 코드 이해하기**

**url** 

- 요청을 보내는 서버의 주소

**requests.get(url)**

- 해당 서버(url)에 데이터를 달라고 요청을 보내는 함수

**.json()**

- 내부의 데이터를 JSON(파이썬의 딕셔너리와 비슷함) 형태로 변환해주는 함수

- JSON에 대한 자세한 설명은 뒷부분에서 다룰 예정입니다.

**서버는 어떻게 요청을 해석할까**

- 웹 브라우저(크롬)와 파이썬을 통해 서버에 데이터를 요청하는 방법을 알았습니다.

- 그렇다면 서버는 어떻게 요청을 하고 데이터를 반환할 수 있을까요?

- 서버에 요청을 보내는 클라이언트는 매우 다양합니다.

- 클라이언트들은 각자 다른 방식으로 요청을 보낼 것 입니다.
    
- 서버가 어떻게 모두 해석할 수 있을까?

![](https://velog.velcdn.com/images/lurelight/post/00fa3c7c-a829-4d58-a982-16be59b32567/image.png)


**API**

클라이언트가 원하는 기능을 수행하기 위해서 서버 측에 만들어 놓은 프로그램

- 기능 예시 : 데이터 저장, 조회, 수정, 삭제 등등

서버 측에 특정 주소로 요청이 오면 정해진 기능을 수행하는 API를 미리 만들어 둡니다.

- 클라이언트는 서버가 미리 만들어 놓은 주소로 요청을 보냅니다.

![](https://velog.velcdn.com/images/lurelight/post/5419a4f6-fb0a-44f0-99f6-89088936827c/image.png)


**날씨 정보를 제공해주는 API**

날씨 정보를 수집하기 위해서는 두가지를 찾아야 합니다.

- 날씨 정보를 가지고 있는 서버

- 해당 서버가 제공하는 API

**오픈 API**

외부에서 사용할 수 있도록 무료로 개방한 API

사용법은 공식 문서에 명시되어 있습니다.

프로젝트에서 사용되는 API

- OpenWeatherMap API : 기상 데이터 및 날씨 정보를 제공하는 오픈 API

- 금융상품통합비교공시 API : 금융감독원에서 제공하는 금융 상품 정보를 제공하는 오픈 API

**오픈 API 특징 및 주의사항**

악성 사용자가 100만 개의 계정을 생성해 API에 요청을 보내는 상황을 생각해 봅시다.

- 너무 많은 계정에서 동시에 요청을 보내면 서버가 견디지 못합니다.

이러한 문제점들을 해결하기 위해 오픈 API는 API KEY를 활용하여 사용자를 확인합니다.

- 사용자 인증 혹은 회원가입을 하면 서버에서 API KEY를 발급해 줍니다.

- 서버에 요청할 때 마다 해당 API KEY를 함께 보내 정상적인 사용자인 것을 확인 받습니다.

 일부 오픈 API는 <span style='color:red;'>**사용량이 제한**</span>되어 있습니다.
 
- 공식 문서의 일일 및 월간 사용량 제한을 반드시 확인하여야 합니다.

- <span style='color:red;'>**주의! 사용량이 초과될 경우 요금이 청구될 수 있습니다.**</span>

### **날씨 데이터 수집**
---

![](https://velog.velcdn.com/images/lurelight/post/c446a807-2ef9-43f4-9731-2152c3770204/image.png)

API가 사용하는 데이터 형식 - JSON

JavaScript Object Notation 의 약자, 직역하자면 '자바스크립트 객체 표기법'

데이터를 저장하거나 전송할 때 많이 사용되는 <span style='color:red;'>**경량의 텍스트 기반의 데이터 형식**</span>

통신 방법이나 프로그래밍 문법이 아니라 단순히 데이터를 표현하는 표현 방법 중 하나

특징 

- 데이터는 중괄호({})로 둘러싸인 키-값 쌍의 집합으로 표현됨

- 키 = 문자열 / 값 = 다양한 데이터 유형을 가질 수 있다.

- 값은 쉼표(,)로 구분됨

![](https://velog.velcdn.com/images/lurelight/post/521b4436-1664-47b4-8389-33d506a4f663/image.png)










